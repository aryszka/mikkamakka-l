use . "list"

export fn getFlattenedStatements(itemType, listType, listProp, statements) {
	fn toList(s) s.type == itemType ? [s] : s[listProp]
	return statements
	-> filter(fn (s) has("type", s) && contains(s.type, [itemType, listType]))
	-> fold(fn (s, result) [result..., toList(s)...], [])
}
